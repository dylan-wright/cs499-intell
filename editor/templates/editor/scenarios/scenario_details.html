{% load staticfiles %}
<!DOCTYPE html>
<html>
<head>
  <title>Scenario {{ scenario.name }}</title>
  <script src="{% static "editor/vis.min.js" %}"></script>
</head>
<body>
<h1>Scenario {{ scenario.name.username }}</h1>
<table border="1">
  <tr><td>Author</td><td>{{ scenario.author }}</td></tr>
  <tr><td>Turns</td><td>{{ scenario.turn_num }}</td></tr>
  <tr><td>Points</td><td>{{ scenario.point_num }}</td></tr>
</table>
<h2>Scenario Graph</h2>
  <div id="dumpLoc" style="height:500px;">Graph Location</div>
<h2>File</h2>
  <div id="file">
    {{ file_data }}
  </div>
</body>

<script src="{% static "editor/graph.js" %}"></script>
<script>
  var xhttp = new XMLHttpRequest();
  xhttp.open("GET", "graph/", false);
  xhttp.send()
  var dict = JSON.parse(xhttp.responseText);
  Graph.getData(dict.tables, 
                JSON.parse(dict.schema), 
                JSON.parse(dict.dump),
                dict.split);
</script>
</html>
